{"mappings":"kBAAMA,EAAkBC,SAASC,cAAc,WAUzCC,EAAaC,2BAGTC,EAAQC,OAAOC,SAASC,KAAKC,MAAM,MACzCC,QAAQC,IAAIN,IACPA,EAAAA,aAGCO,QAAYC,MAAAA,uDAA6DR,SAE3ES,QAAaF,EAAIG,UAErBL,QAAQC,IAAIC,EAAKE,IAEZF,EAAII,GAAAA,MAAAA,IAAcC,MAAAA,GAASH,EAAKI,YAAYN,EAAIO,eAEjDC,EAASN,EAAKO,KAChBC,KAEIC,OAAQD,EAAIC,OACZC,YAAaF,EAAIE,YACjBC,WAAYH,EAAIG,WAChBC,YAAaJ,EAAII,YACjBC,SAAUL,EAAIK,SACdC,UAAWN,EAAIO,WACfC,KAAMR,EAAIQ,KACVzB,MAAOiB,EAAIjB,gBAOX0B,EAAAA,8KAKUX,EAAOC,KAAIW,GAClBA,EAAI3B,gQAS+Ce,EAAOC,KAAIY,GAC9DA,EAAIN,sXAWPP,EAAOC,KAAIa,GACRA,EAAIR,0JAOHN,EAAOC,KAAIc,GACZA,EAAIV,uCAMbzB,EAAgBoC,UAAY,GAC5BpC,EAAgBqC,mBAAmB,aAAcN,SAC1CO,GACPC,MAAMD,MAOT,aAAc,QAAQE,SAAQC,GAAMnC,OAAOoC,iBAAiBD,EAAItC","sources":["./src/js/controller.js"],"sourcesContent":["const recipeContainer = document.querySelector('.recipe');\n\nconst timeout = function (s) {\n  return new Promise(function (_, reject) {\n    setTimeout(function () {\n      reject(new Error(`Request took too long! Timeout after ${s} second`));\n    }, s * 1000);\n  });\n};\n\nconst showRecipe = async function () {\n  try {\n\n    const title = window.location.hash.slice(1);\n    console.log(title);\n    if (!title) return;\n\n    // Loading recipe data\n    const res = await fetch(`https://my-recipe-api-project.herokuapp.com/recipes/${title}`);\n\n    let data = await res.json();\n\n    console.log(res, data);\n\n    if (!res.ok) throw new Error(`${data.message} (${res.status})`);\n\n    let recipe = data.map(\n      obj => {\n        return {\n          author: obj.author,\n          description: obj.description,\n          directions: obj.directions,\n          ingredients: obj.ingredients,\n          servings: obj.servings,\n          sourceUrl: obj.source_url,\n          tags: obj.tags,\n          title: obj.title\n        }\n      }\n    );\n    //console.log(recipe);\n\n    //rendering recipe\n    const markup = `\n\n    <figure class=\"recipe__fig\">\n          <img src=\"src/img/test-1.jpg\" alt=\"Tomato\" class=\"recipe__img\" />\n          <h1 class=\"recipe__title\">\n            <span>${recipe.map(tit => {\n      return tit.title\n    })}</span >\n          </h1 >\n        </figure >\n\n  <div class=\"recipe__info\">\n    <svg class=\"recipe__info-icon\">\n      <use href=\"src/img/icons.svg#icon-users\"></use>\n    </svg>\n    <span class=\"recipe__info-data recipe__info-data--people\">${recipe.map(ser => {\n      return ser.servings\n    })}</span>\n    <span class=\"recipe__info-text\">servings</span>\n    <div class=\"recipe__ingredients\">\n    <h2 class=\"heading--2\">Recipe ingredients</h2>\n    <ul class=\"recipe__ingredient-list\">\n      <li class=\"recipe__ingredient\">\n        <svg class=\"recipe__icon\">\n          <use href=\"src/img/icons.svg#icon-check\"></use>\n        </svg>\n      \n        ${recipe.map(ing => {\n      return ing.ingredients\n    })}\n        </div>\n      </li>\n\n      <div class=\"recipe__directions\">\n      <h2 class=\"heading--2\">Recipe directions</h2>\n      <span>${recipe.map(dir => {\n      return dir.directions\n    })}</span>\n\n     \n\n    `;\n    recipeContainer.innerHTML = '';\n    recipeContainer.insertAdjacentHTML('afterbegin', markup);\n  } catch (err) {\n    alert(err)\n\n  }\n\n};\n//showRecipe();\n\n['hashchange', 'load'].forEach(ev => window.addEventListener(ev, showRecipe))\n//window.addEventListener('hashchange', showRecipe);"],"names":["$d13712820ca5e1f6986cbe8ea4cce0db$var$recipeContainer","document","querySelector","$d13712820ca5e1f6986cbe8ea4cce0db$var$showRecipe","async","title","window","location","hash","slice","console","log","res","fetch","data","json","ok","Error","message","status","recipe","map","obj","author","description","directions","ingredients","servings","sourceUrl","source_url","tags","markup","tit","ser","ing","dir","innerHTML","insertAdjacentHTML","err","alert","forEach","ev","addEventListener"],"version":3,"file":"index.d1063a0e.js.map"}